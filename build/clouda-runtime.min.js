!function(a){if("object"==typeof a){"undefined"==typeof a.clouda&&(a.clouda={});var b=a.clouda;b.lightapp=function(a){b.lightapp.ak=a};var c={SUCCESS:0,UNKNOW_CALLBACK:-1,USER_CANCEL:-2,AK_UNDEFINED:-4,RT_UNDEFINED:-3,RT_GETERROR:5,EXEC_ERROR:-5,ACC_GET_ERR:6,LOC_GET_ERR:7,CAP_GET_ERR:8,CONTACT_FIND_ERR:9,GLO_ERR:10,REACH_ERR:11,MEDIA_ERR:12,CPS_ERROR:13,BTY_ERROR:14},d={0:"成功","-1":"接口返回不符合预期","-2":"用户取消","-3":"接口的运行环境不存在。","-4":"错误，您需要在调用api前设置ak。 clouda.lightapp(your_ak_here);","-5":"执行接口出错。",5:"接口的运行环境准备中出错。",6:"accelerometer 接口返回错误",7:"geolocation 接口返回错误"},e=function(a,b,c){0>a&&(b=a),"object"==typeof c&&"function"==typeof c.onfail&&c.onfail(b);try{throw new Error}catch(e){var f=e.stack.split("\n");console.error(d[a]+(b?" app错误号"+b:"")+f[2].replace(/\s*/,""))}},f=function(a,b,c){return this.module=a,this.submodule=b,this.func=c,function(a){return function(){a.exec.apply(a,arguments)}}(this)};f.prototype.exec=function(){var a=arguments,b=this;h.call(this,this.module,function(d){try{b.func?d[b.submodule][b.func].apply(b,a):d[b.submodule].apply(b,a)}catch(e){var f;f=d?c.EXEC_ERROR:c.RT_UNDEFINED,a.length&&"object"==typeof a[a.length-1]&&"function"==typeof a[a.length-1].onfail&&a[a.length-1].onfail(f),b.error(f)}})},b.lightapp.error=f.prototype.error=e;var g={},h=function(a,d){if(!b.lightapp.ak)return this.error(c.AK_UNDEFINED),console.error("错误，'"+a+"' clouda.lightapp(your_ak_here);"),!1;var e=this;if(!a)return!1;if("undefined"!=typeof g[a])return d(g[a]);try{nuwa.pm.bindAk(b.lightapp.ak),nuwa.pm.absorb(a,function(b){b.on("error",function(){e.error(c.RT_GETERROR),d(null)}),b.on("progress",function(){}),b.on("complete",function(){g[a]=nuwa.require(a),d(g[a])})})}catch(f){e.error(c.RT_UNDEFINED),d(null)}return!1},i=function(a,c){var d=b[a];c.call(b.lightapp,d,b)};b.device={},b.mbaas={},i("device",function(a){var b=this,d=a.accelerometer={},e=new f("device","accelerometer","getCurrentAcceleration"),g=new f("device","accelerometer","watchAcceleration"),h=new f("device","accelerometer","clearWatch");d.get=function(a){e(function(d){"object"==typeof d&&"undefined"!=typeof d.x&&"undefined"!=typeof d.y&&"undefined"!=typeof d.z?a.onsuccess.apply(this,arguments):b.error(c.ACC_GET_ERR,c.UNKNOW_CALLBACK,a)},function(d){b.error(c.ACC_GET_ERR,d,a)},a)};var i;return d.listen=function(a){i=g(function(d){"object"==typeof d&&"undefined"!=typeof d.x&&"undefined"!=typeof d.y&&"undefined"!=typeof d.z?a.onsuccess.apply(this,arguments):b.error(c.ACC_GET_ERR,c.UNKNOW_CALLBACK,a)},function(d){b.error(c.ACC_GET_ERR,d,a)},a)},d.stop=function(){h(i)},d}),i("device",function(a){var b,d=this,e=a.battery={},g=new f("device","batteryStatus","start"),h=new f("device","batteryStatus","stop");return e.listen=function(){b=g(options.onsuccess,function(a){d.error(c.BTY_ERROR,a,options)},options)},e.stop=function(){h(options.onsuccess,function(){options&&"function"==typeof options.onfail&&options.onfail(c.ACC_GET_ERR)},options)},e}),i("device",function(a){var b=this,d=a.compass={},e=new f("device","compass","getCurrentHeading"),g=new f("device","compass","watchHeading"),h=new f("device","compass","clearWatch");d.getCurrentHeading=function(a){e(function(d){"object"==typeof d&&"undefined"!=typeof d.magneticHeading&&"undefined"!=typeof d.trueHeading?a.onsuccess.apply(this,arguments):b.error(c.CPS_ERROR,c.UNKNOW_CALLBACK,a)},function(d){b.error(c.CPS_ERROR,d,a)},a)};var i;return d.listen=function(a){i=g(function(d){"object"==typeof d&&"undefined"!=typeof d.magneticHeading&&"undefined"!=typeof d.trueHeading?a.onsuccess.apply(this,arguments):b.error(c.CPS_ERROR,c.UNKNOW_CALLBACK,a)},function(d){b.error(c.CPS_ERROR,d,a)},a)},d.stop=function(){h(i)},d}),i("device",function(a){var b=this,d=a.contact={},e=(new f("device","contact","create"),new f("device","contact","find"));d.find=function(a,d){e(a,function(a){Array.isArray(a)?d.onsuccess.apply(this,arguments):b.error(c.CONTACT_FIND_ERR,c.UNKNOW_CALLBACK,d)},function(a){b.error(c.CONTACT_FIND_ERR,a,d)},d)}}),i("device",function(a){var b=a.fs={};return b.postFile=function(){},a}),i("device",function(a){var b=this,d=a.geolocation={},e=new f("device","geolocation","getCurrentPosition"),g=new f("device","geolocation","watchPosition"),h=new f("device","geolocation","clearWatch");d.getCurrentPosition=function(a){e(function(d){"object"==typeof d&&"undefined"!=typeof d.latitude&&"undefined"!=typeof d.longitude?a.onsuccess.apply(this,arguments):b.error(c.LOC_GET_ERR,c.UNKNOW_CALLBACK,a)},function(d){b.error(c.LOC_GET_ERR,d,a)},a)};var i;return d.listen=function(){i=g(function(a){"object"==typeof a&&"undefined"!=typeof a.latitude&&"undefined"!=typeof a.longitude?options.onsuccess.apply(this,arguments):b.error(c.LOC_GET_ERR,c.UNKNOW_CALLBACK,options)},function(a){b.error(c.LOC_GET_ERR,a,options)},options)},d.stop=function(){h(i)},a}),i("device",function(a){for(var b=this,d=a.globalization={},e=["dateToString","getCurrencyPattern","getDateNames","getDatePattern","getFirstDayOfWeek","getLocaleName","getNumberPattern","getPreferredLanguage","isDayLightSavingsTime","numberToString","stringToDate","stringToNumber"],g={},h=0,i=e.length;i>h;h++)g[e[h]]=new f("device","globalization",e[h]);return d.getPreferredLanguage=function(a){g.getPreferredLanguage(a.onsuccess,function(){a&&"function"==typeof a.onfail?a.onfail(c.GLO_ERR):b.error(c.GLO_ERR)},a)},d.getLocaleName=function(a){g.getLocaleName(a.onsuccess,function(){a&&"function"==typeof a.onfail?a.onfail(c.GLO_ERR):b.error(c.GLO_ERR)},a)},d.dateToString=function(a,d){g.dateToString(a,d.onsuccess,function(){d&&"function"==typeof d.onfail?d.onfail(c.GLO_ERR):b.error(c.GLO_ERR)},d)},d.stringToDate=function(a,d){g.stringToDate(a,d.onsuccess,function(){d&&"function"==typeof d.onfail?d.onfail(c.GLO_ERR):b.error(c.GLO_ERR)},d)},d.getDatePattern=function(a){g.getDatePattern(a.onsuccess,function(){a&&"function"==typeof a.onfail?a.onfail(c.GLO_ERR):b.error(c.GLO_ERR)},a)},d.getDateNames=function(a){g.getDateNames(a.onsuccess,function(){a&&"function"==typeof a.onfail?a.onfail(c.GLO_ERR):b.error(c.GLO_ERR)},a)},d.isDayLightSavingsTime=function(a,d){g.isDayLightSavingsTime(a,d.onsuccess,function(){d&&"function"==typeof d.onfail?d.onfail(c.GLO_ERR):b.error(c.GLO_ERR)},d)},d.getFirstDayOfWeek=function(a){g.getFirstDayOfWeek(a.onsuccess,function(){a&&"function"==typeof a.onfail?a.onfail(c.GLO_ERR):b.error(c.GLO_ERR)},a)},d.numberToString=function(a,d){g.numberToString(d.onsuccess,function(){d&&"function"==typeof d.onfail?d.onfail(c.GLO_ERR):b.error(c.GLO_ERR)},d)},d.stringToNumber=function(a,d){g.stringToNumber(a,d.onsuccess,function(){d&&"function"==typeof d.onfail?d.onfail(c.GLO_ERR):b.error(c.GLO_ERR)},d)},d.getNumberPattern=function(a){g.getNumberPattern(a.onsuccess,function(){a&&"function"==typeof a.onfail?a.onfail(c.GLO_ERR):b.error(c.GLO_ERR)},a)},d.getCurrencyPattern=function(a,d){g.getCurrencyPattern(a,d.onsuccess,function(){d&&"function"==typeof d.onfail?d.onfail(c.GLO_ERR):b.error(c.GLO_ERR)},d)},a}),i("device",function(a){var d=this,e=a.media={};a.MEDIA_DESTINATION={},a.MEDIA_ENCODEING={},a.MEDIA_TYPE={},a.MEDIA_SOURCE={},a.MEDIA_DIRECTION={},a.MEDIA_DESTINATION.DATA_URL=0,a.MEDIA_DESTINATION.FILE_URI=1,a.MEDIA_DESTINATION.NATIVE_URI=2,a.MEDIA_ENCODEING.JPEG=0,a.MEDIA_ENCODEING.PNG=1,a.MEDIA_TYPE.PICTURE=0,a.MEDIA_TYPE.VIDEO=1,a.MEDIA_TYPE.ALLMEDIA=2,a.MEDIA_TYPE.AUDIO=3,a.MEDIA_SOURCE.PHOTOLIBRARY=0,a.MEDIA_SOURCE.CAMERA=1,a.MEDIA_DIRECTION.BACK=0,a.MEDIA_DIRECTION.FRONT=1;var g=new f("device","camera","getPicture"),h=new f("device","capture","captureAudio"),i=new f("device","capture","captureImage"),j=new f("device","capture","captureVideo");return e.getMedia=function(a){g(function(b){"string"==typeof b?a.onsuccess.apply(this,arguments):d.error(c.MEDIA_ERR,c.UNKNOW_CALLBACK,a)},function(b){d.error(c.MEDIA_ERR,b,a)},a)},e.captureMedia=function(a){var e;e=a.mediaType==b.device.MEDIA_TYPE.VIDEO?j:a.mediaType==b.device.MEDIA_TYPE.AUDIO?h:i,e(function(b){b&&"object"==typeof b?a.onsuccess.apply(this,arguments):d.error(c.MEDIA_ERR,c.UNKNOW_CALLBACK,a)},a.onsuccess,function(b){d.error(c.MEDIA_ERR,b,a)},a)},a}),i("device",function(a){var b=a.notification={},c=new f("device","notification","alert"),d=new f("device","notification","confirm"),e=new f("device","notification","prompt"),g=new f("device","notification","beep"),h=new f("device","notification","vibrate");return b.alert=function(a,b){return"object"==typeof b?c(a,b.onsuccess,b.title,b.buttonName,b):c(a)},b.confirm=function(a,b){return"object"==typeof b?d.call(this,a,b.onsuccess,b.title,b.buttonLabels,b):d(a)},b.beep=g,b.vibrate=h,b.prompt=function(a,b){return"object"==typeof b?e(a,b.onsuccess,b.title,b.buttonLabels,b.defaultText,b):e(a)},a}),i("device",function(a){var b=this,d=a.reachability={};d.ConnectionType={UNKNOWN:0,ETHERNET:1,WIFI:2,CELL_2G:3,CELL_3G:4,CELL_4G:5,CELL:6,NONE:7};var e=new f("device","network","getInfo");return d.get=function(a){e(a.onsuccess,function(){a&&"function"==typeof a.onfail?a.onfail(c.REACH_ERR):b.error(c.REACH_ERR)},a)},d.listen=function(){},d.stop=function(){},a}),i("device",function(a){a.sqlite={};return a}),i("touch",function(b,c){var d=d||{};!function(b,c){"use strict";function d(a){if(A){for(var b=[],c=null,d=0,e=a.touches.length;e>d;d++)c=a.touches[d],b.push({x:c.pageX,y:c.pageY});return b}return[{x:a.pageX,y:a.pageY}]}function e(a,b){var c=b.x-a.x,d=b.y-a.y;return Math.sqrt(c*c+d*d)}function f(a){return a.touches?a.touches.length:1}function g(a,b){if(a.length>=2&&b.length>=2){var c=e(a[1],a[0]),d=e(b[1],b[0]);return d/c}return 1}function h(a,b){return 180*Math.atan2(b.y-a.y,b.x-a.x)/Math.PI}function i(a,b){var c=Math.atan(-1*(b.y-a.y)/(b.x-a.x))*(180/Math.PI);return 0>c?c+180:c}function j(a){var b={up:-45>a&&a>-135,down:a>=45&&135>a,left:a>=135||-135>=a,right:a>=-45&&45>=a};for(var c in b)if(b[c])return c;return null}function k(a){for(var b=0,c=0;a.offsetParent;)b+=a.offsetLeft,c+=a.offsetTop,a=a.offsetParent;return{left:b,top:c}}function l(){E=F=G=null,N=L=H=I=!1,J=!1,C={},P=!1}function m(a){return"touchmove"===a.type||"mousemove"===a.type}function n(a){return"touchend"===a.type||"mouseup"===a.type||"touchcancel"===a.type}function o(){var a=A?"touchstart touchmove touchend touchcancel":"mouseup mousedown mousemove mouseout";X(b,"DOMContentLoaded",function(){var c=b.body;X(c,a,W)})}var p=function(){var b=a.navigator,c=b.userAgent,d=c.match(/(Android)[\s\/]+([\d\.]+)/),e=c.match(/(iPad|iPhone|iPod)\s+OS\s([\d_\.]+)/),f=c.match(/(Windows\s+Phone)\s([\d\.]+)/),g=/WebKit\/[\d.]+/i.test(c),h=e?b.standalone?g:/Safari/i.test(c)&&!/CriOS/i.test(c)&&!/MQQBrowser/i.test(c):!1,i={};return d&&(i.android=!0,i.version=d[2]),e&&(i.ios=!0,i.version=e[2].replace(/_/g,"."),i.ios7=/^7/.test(i.version),"iPad"===e[1]?i.ipad=!0:"iPhone"===e[1]?(i.iphone=!0,i.iphone5=568==screen.height):"iPod"===e[1]&&(i.ipod=!0)),f&&(i.wp=!0,i.version=f[2],i.wp8=/^8/.test(i.version)),g&&(i.webkit=!0),h&&(i.safari=!0),i}(),q={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",touchcancel:"mouseout"},r={getType:function(a){return Object.prototype.toString.call(a).match(/\s([a-z|A-Z]+)/)[1].toLowerCase()},getSelector:function(a){if(a.id)return"#"+a.id;if(a.className){var b=a.className.split(/\s+/);return"."+b.join(".")}return a.tagName.toLowerCase()},matchSelector:function(a,b){return a.webkitMatchesSelector(b)},getEventListeners:function(a){return a.listeners},getPCevts:function(a){return q[a]||a},forceReflow:function(){var a=document.getElementById("domTreeOp");a||(a=document.createElement("div"),a.id="domTreeOp",document.body.appendChild(a));var b=a.parentNode,c=a.nextSibling;b.removeChild(a),b.insertBefore(a,c)}},s=0,t=[],u=function(a,b,c){if(a.bytouch){c=c||{};var d,e={bubbles:!0,cancelable:!0,detail:c};"undefined"!=typeof CustomEvent?(d=new CustomEvent(b,e),a&&a.dispatchEvent(d)):(d=document.createEvent("CustomEvent"),d.initCustomEvent(b,!0,!0,c),a&&a.dispatchEvent(d))}},v=function(a,b,c){a.listeners=a.listeners||{},a.listeners[b]?a.listeners[b].push(c):a.listeners[b]=[c];var d=function(a){p.ios7&&r.forceReflow(),a.originEvent=a,a.startRotate=function(){P=!0};for(var b in a.detail)a[b]=a.detail[b];c.call(a.target,a)};c.proxy=c.proxy||{},c.proxy[b]?c.proxy[b].push(s++):c.proxy[b]=[s++],t.push(d),a.addEventListener&&a.addEventListener(b,d,!1)},w=function(a,b,c){if(c){var d=c.proxy[b];d&&d.length&&d.forEach(function(c){a.removeEventListener&&a.removeEventListener(b,t[c],!1)})}else{var e=a.listeners[b];e&&e.length&&e.forEach(function(c){a.removeEventListener(b,c,!1)})}},x=function(a,b,c,d){var e=function(b){var e;b.originEvent=b,b.startRotate=function(){P=!0};for(var f in b.detail)b[f]=b.detail[f];var g=r.getSelector(a)+" "+c,h=r.matchSelector(b.target,g),i=r.matchSelector(b.target,g+" "+b.target.nodeName);if(!h&&i){for(p.ios7&&r.forceReflow(),e=b.target;!r.matchSelector(e,g);)e=e.parentNode;d.call(e,b)}else p.ios7&&r.forceReflow(),(h||i)&&d.call(b.target,b)};d.proxy=d.proxy||{},d.proxy[b]?d.proxy[b].push(s++):d.proxy[b]=[s++],t.push(e),a.listeners=a.listeners||{},a.listeners[b]?a.listeners[b].push(e):a.listeners[b]=[e],a.addEventListener&&a.addEventListener(b,e,!1)},y=function(a,b,c,d){if(d){var e=d.proxy[b];e.length&&e.forEach(function(c){a.removeEventListener&&a.removeEventListener(b,t[c],!1)})}else{var f=a.listeners[b];f.forEach(function(c){a.removeEventListener(b,c,!1)})}},z={tap:!0,doubleTap:!0,tapMaxDistance:10,hold:!0,holdTime:650,maxDoubleTapInterval:300,swipe:!0,swipeTime:300,swipeMinDistance:18,swipeFactor:5,drag:!0,pinch:!0,minScaleRate:0,minRotationAngle:0},A="ontouchstart"in a,B={TOUCH_START:"touchstart",TOUCH_MOVE:"touchmove",TOUCH_END:"touchend",TOUCH_CANCEL:"touchcancel",MOUSE_DOWN:"mousedown",MOUSE_MOVE:"mousemove",MOUSE_UP:"mouseup",CLICK:"click",PINCH_START:"pinchstart",PINCH_END:"pinchend",PINCH:"pinch",PINCH_IN:"pinchin",PINCH_OUT:"pinchout",ROTATION_LEFT:"rotateleft",ROTATION_RIGHT:"rotateright",ROTATION:"rotate",SWIPE_START:"swipestart",SWIPING:"swiping",SWIPE_END:"swipeend",SWIPE_LEFT:"swipeleft",SWIPE_RIGHT:"swiperight",SWIPE_UP:"swipeup",SWIPE_DOWN:"swipedown",SWIPE:"swipe",DRAG:"drag",HOLD:"hold",TAP:"tap",DOUBLE_TAP:"doubletap"},C={start:null,move:null,end:null},D=0,E=null,F=null,G=null,H=!1,I=!1,J=!1,K={},L=!1,M=null,N=!1,O=1,P=!1,Q=[],R=0,S=0,T=0,U=null,V={_getAngleDiff:function(a){for(var b=parseInt(R-i(a[0],a[1]),10),c=0;Math.abs(b-S)>90&&c++<50;)0>S?b-=180:b+=180;return S=parseInt(b,10)},pinch:function(a){var b=a.target;if(z.pinch){if(!L)return;if(f(a)<2&&!n(a))return;var c=g(C.start,C.move),d=this._getAngleDiff(C.move),e={type:"",originEvent:a,scale:c,rotation:d,direction:d>0?"right":"left",fingersCount:f(a)};if(I?m(a)?e.fingerStatus="move":n(a)&&(e.fingerStatus="end",u(b,B.PINCH_END,e),l()):(I=!0,e.fingerStatus="start",u(b,B.PINCH_START,e)),u(b,B.PINCH,e),Math.abs(1-c)>z.minScaleRate){var h=_utils.deepCopy(e),i=1e-11;c>O?(O=c-i,u(b,B.PINCH_OUT,h,!1)):O>c&&(O=c+i,u(b,B.PINCH_IN,h,!1)),n(a)&&(O=1)}if(Math.abs(d)>z.minRotationAngle){var j,k=_utils.deepCopy(e);j=d>0?B.ROTATION_RIGHT:B.ROTATION_LEFT,u(b,j,k,!1),u(b,B.ROTATION,e)}}},rotateSingleFinger:function(a){var b=a.target;if(P&&f(a)<2){if(!C.move)return;if(Q.length<2){var c=k(b);Q=[{x:c.left+b.offsetWidth/2,y:c.top+b.offsetHeight/2},C.move[0]],R=parseInt(i(Q[0],Q[1]),10)}var d=[Q[0],C.move[0]],e=this._getAngleDiff(d),g={type:"",originEvent:a,rotation:e,direction:e>0?"right":"left",fingersCount:f(a)};m(a)?g.fingerStatus="move":(n(a)||"mouseout"===a.type)&&(g.fingerStatus="end",u(b,B.PINCH_END,g),l());var h=e>0?B.ROTATION_RIGHT:B.ROTATION_LEFT;u(b,h,g),u(b,B.ROTATION,g)}},swipe:function(a){var b=a.target;if(L&&C.move&&!(f(a)>1)){var c=Date.now(),d=c-D,g=e(C.start[0],C.move[0]),i={x:C.move[0].x-K.left,y:C.move[0].y-K.top},k=h(C.start[0],C.move[0]),l=j(k),o=d/1e3,p=10*(10-z.swipeFactor)*o*o,q={type:B.SWIPE,originEvent:a,position:i,direction:l,distance:g,distanceX:C.move[0].x-C.start[0].x,distanceY:C.move[0].y-C.start[0].y,angle:k,duration:d,fingersCount:f(a),factor:p};if(z.swipe){var r=function(){var a=B;switch(l){case"up":u(b,a.SWIPE_UP,q);break;case"down":u(b,a.SWIPE_DOWN,q);break;case"left":u(b,a.SWIPE_LEFT,q);break;case"right":u(b,a.SWIPE_RIGHT,q)}};H?m(a)?(q.fingerStatus=q.swipe="move",u(b,B.SWIPING,q),d>z.swipeTime&&d<z.swipeTime+50&&g>z.swipeMinDistance&&(r(),u(b,B.SWIPE,q,!1))):(n(a)||"mouseout"===a.type)&&(q.fingerStatus=q.swipe="end",u(b,B.SWIPE_END,q),z.swipeTime>d&&g>z.swipeMinDistance&&(r(),u(b,B.SWIPE,q,!1))):(q.fingerStatus=q.swipe="start",H=!0,u(b,B.SWIPE_START,q))}z.drag&&(J?m(a)?q.fingerStatus=q.swipe="move":n(a)&&(q.fingerStatus=q.swipe="end"):(q.fingerStatus=q.swipe="start",J=!0),u(b,B.DRAG,q))}},tap:function(a){var b=a.target;if(z.tap){var c=Date.now(),d=c-D,g=e(C.start[0],C.move?C.move[0]:C.start[0]);clearTimeout(M);var h=function(){if(U&&z.doubleTap&&D-T<z.maxDoubleTapInterval){var a=e(U,C.start[0]);if(16>a)return!0}return!1}();if(h)return u(b,B.DOUBLE_TAP,{type:B.DOUBLE_TAP,originEvent:a,position:C.start[0]}),void 0;if(z.tapMaxDistance<g)return;z.holdTime>d&&f(a)<=1&&(N=!0,T=c,U=C.start[0],u(b,B.TAP,{type:B.TAP,originEvent:a,fingersCount:f(a),position:C.start[0]}),u(b,B.CLICK,{type:B.CLICK,originEvent:a,fingersCount:f(a),position:C.start[0]}))}},hold:function(a){var b=a.target;z.hold&&(clearTimeout(M),M=setTimeout(function(){if(C.start){var c=e(C.start[0],C.move?C.move[0]:C.start[0]);z.tapMaxDistance<c||N||u(b,"hold",{type:"hold",originEvent:a,fingersCount:f(a),position:C.start[0]})}},z.holdTime))}},W=function(b){var c=b.target;switch(b.type){case"touchstart":case"mousedown":Q=[],L=!0,(!C.start||C.start.length<2)&&(C.start=d(b)),f(b)>=2&&(R=parseInt(i(C.start[0],C.start[1]),10)),D=Date.now(),E=b,K={};var e=c.getBoundingClientRect(),g=document.documentElement;K={top:e.top+(a.pageYOffset||g.scrollTop)-(g.clientTop||0),left:e.left+(a.pageXOffset||g.scrollLeft)-(g.clientLeft||0)},V.hold(b);break;case"touchmove":case"mousemove":if(!L||!C.start)return;C.move=d(b),f(b)>=2?V.pinch(b):P?V.rotateSingleFinger(b):V.swipe(b);break;case"touchend":case"touchcancel":case"mouseup":case"mouseout":if(!L)return;G=b,I?V.pinch(b):P?V.rotateSingleFinger(b):H?V.swipe(b):V.tap(b),l(),R=0,S=0,b.touches&&1===b.touches.length&&(L=!0,P=!0)}},X=function(){function a(a){A||(a=r.getPCevts(a)),i.forEach(function(b){b.bytouch=!0,x(b,a,g,f[a])})}function c(a){A||(a=r.getPCevts(a)),i.forEach(function(b){b.bytouch=!0,v(b,a,f[a])})}var d,e,f,g,h=arguments;if(h.length<2||h>4)return console.error("unexpected arguments!");var i="string"===r.getType(h[0])?b.querySelectorAll(h[0]):h[0];if(i=i.length?Array.prototype.slice.call(i):[i],3===h.length&&"string"===r.getType(h[1]))return d=h[1].split(" "),e=h[2],d.forEach(function(a){A||(a=r.getPCevts(a)),i.forEach(function(b){b.bytouch=!0,v(b,a,e)})}),void 0;if(3!==h.length||"object"!==r.getType(h[1]))if(2!==h.length||"object"!==r.getType(h[1])){if(4===h.length&&"object"===r.getType(h[2]))return d=h[1].split(" "),e=h[3],d.forEach(function(a){A||(a=r.getPCevts(a)),i.forEach(function(b){b.bytouch=!0,v(b,a,e)})}),void 0;if(4===h.length){var j=i[0];return d=h[1].split(" "),g=h[2],e=h[3],d.forEach(function(a){A||(a=r.getPCevts(a)),j.bytouch=!0,x(j,a,g,e)}),void 0}}else{f=h[1];for(var k in f)c(k)}else{f=h[1],g=h[2];for(var l in f)a(l)}},Y=function(){var a,c=arguments;if(c.length<1||c.length>4)return console.error("unexpected arguments!");var d="string"===r.getType(c[0])?b.querySelectorAll(c[0]):c[0];if(d=d.length?Array.prototype.slice.call(d):[d],1===c.length||2===c.length)return d.forEach(function(b){a=c[1]?c[1].split(" "):Object.keys(b.listeners),a.length&&a.forEach(function(a){A||(a=r.getPCevts(a)),w(b,a),y(b,a)})}),void 0;if(3===c.length&&"function"===r.getType(c[2]))return handler=c[2],d.forEach(function(b){a=c[1].split(" "),a.forEach(function(a){A||(a=r.getPCevts(a)),w(b,a,handler)})}),void 0;if(3===c.length&&"string"===r.getType(c[2])){var e=c[2];return d.forEach(function(b){a=c[1].split(" "),a.forEach(function(a){A||(a=r.getPCevts(a)),y(b,a,e)})}),void 0}return 4===c.length?(handler=c[3],d.forEach(function(b){a=c[1].split(" "),a.forEach(function(a){A||(a=r.getPCevts(a)),y(b,a,e,handler)})}),void 0):void 0},Z=function(a,c){var d=arguments;A||(c=r.getPCevts(c));var e="string"===r.getType(d[0])?b.querySelectorAll(d[0]):d[0];e=e.length?Array.prototype.call(e):[e],e.forEach(function(a){u(a,c)})};o(),c.on=X,c.off=Y,c.bind=X,c.unbind=Y,c.live=X,c.die=Y,c.config=z,c.trigger=Z}(document,d),c.touch=d}),i("mbaas",function(a){return a.share={},a}),i("mbaas",function(a){{var b=a.qr={};new f("qr","start"),new f("qr","stop"),new f("qr","generate")}return b})}}(window);