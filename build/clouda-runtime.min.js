!function(a){if("object"==typeof a){"undefined"==typeof a.clouda&&(a.clouda={});var b=a.clouda;b.lightapp=function(a){b.lightapp.ak=a},b.lightapp.error=function(){try{throw new Error}catch(a){var b=a.stack.split("\n");console.log("Call lightapp api Error! "+b[2].replace(/\s*/,""))}};var c=function(a,b,c){return this.module=a,this.submodule=b,this.func=c,function(a){return function(){a.run.apply(a,arguments)}}(this)};c.prototype.run=function(){var a=this;e(this.module,function(b){try{b[a.submodule][a.func].call(a,arguments)}catch(c){a.error(a.module+"."+a.submodule+"."+a.func)}})},c.prototype.error=function(a){try{throw new Error}catch(b){var c=b.stack.split("\n");console.log(a," Error! "+c[2].replace(/\s*/,""))}};var d={},e=function(a,c){return b.lightapp.ak?a?"undefined"!=typeof d[a]?c(d[a]):(d[a]=null,nuwa.pm.bindAk(b.lightapp.ak),nuwa.pm.absorb(a,function(b){b.on("error",function(){c(null)}),b.on("progress",function(){}),b.on("complete",function(){d[a]=nuwa.require(a),c(d[a])})}),!1):!1:(console.error("错误，'"+a+"' clouda.lightapp(your_ak_here);"),!1)},f=function(a,c){var d=b[a];c.call(b.lightapp,d)};b.device={},b.mbaas={},f("device",function(a){for(var b=a.accelerometer={},d=["clearWatch","getCurrentAcceleration","watchAcceleration"],e=0,f=d.length;f>e;e++)try{b[d[e]]=new c("device","accelerometer",d[e])}catch(g){b[d[e]]=this.error}return a}),f("device",function(a){for(var b=a.battery={},c=["start","stop"],d=0,e=c.length;e>d;d++)try{b[c[d]]=device.batteryStatus[c[d]]}catch(f){b[c[d]]=this.error}return a}),f("device",function(a){for(var b=a.camera={},c=["getPicture","cleanup"],d=0,e=c.length;e>d;d++)try{b[c[d]]=device.camera[c[d]]}catch(f){b[c[d]]=this.error}return a}),f("device",function(a){for(var b=a.capture={},c=["captureAudio","captureImage","captureVideo"],d=0,e=c.length;e>d;d++)try{b[c[d]]=device.capture[c[d]]}catch(f){b[c[d]]=this.error}return a}),f("device",function(a){for(var b=a.contact={},c=["create","find"],d=0,e=c.length;e>d;d++)try{b[c[d]]=device.contact[c[d]]}catch(f){b[c[d]]=this.error}return a}),f("device",function(a){for(var b=a.geolocation={},c=["clearWatch","getCurrentPosition","watchPosition"],d=0,e=c.length;e>d;d++)try{b[c[d]]=device.geolocation[c[d]]}catch(f){b[c[d]]=this.error}return a}),f("device",function(a){for(var b=a.globalization={},c=["dateToString","getCurrencyPattern","getDateNames","getDatePattern","getFirstDayOfWeek","getLocaleName","getNumberPattern","getPreferredLanguage","isDayLightSavingsTime","numberToString","stringToDate","stringToNumber"],d=0,e=c.length;e>d;d++)try{b[c[d]]=device.globalization[c[d]]}catch(f){b[c[d]]=this.error}return a}),f("device",function(a){for(var b=a.network={},c=["getInfo"],d=0,e=c.length;e>d;d++)try{b[c[d]]=device.network[c[d]]}catch(f){b[c[d]]=this.error}return b.UNKNOWN=0,b.ETHERNET=1,b.WIFI=2,b.CELL_2G=3,b.CELL_3G=4,b.CELL_4G=5,b.CELL=6,b.NONE=7,b.status=b.UNKNOWN,a}),f("device",function(a){for(var b=a.notification={},c=["alert","confirm","prompt","beep","vibrate"],d=0,e=c.length;e>d;d++)try{b[c[d]]=device.notification[c[d]]}catch(f){b[c[d]]=this.error}return a}),f("device",function(a){for(var b=a.sqlite={},c=["openDatabase"],d=0,e=c.length;e>d;d++)try{b[c[d]]=device.sqlite[c[d]]}catch(f){b[c[d]]=this.error}return a}),f("mbaas",function(a){return a.share={},a})}}(window);