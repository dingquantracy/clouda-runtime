!function(a){if("object"==typeof a){"undefined"==typeof a.clouda&&(a.clouda={});var b=a.clouda;b.lightapp=function(a){b.lightapp.ak=a};var c={SUCCESS:0,AK_UNDEFINED:1,RT_UNDEFINED:2,RT_GETERROR:5,EXEC_ERROR:3,USER_CANCEL:4},d={0:"成功",1:"错误，您需要在调用api前设置ak。 clouda.lightapp(your_ak_here);",2:"接口的运行环境不存在。",3:"执行接口出错。",4:"用户取消",5:"接口的运行环境准备中出错。"},e=function(a){try{throw new Error}catch(b){var c=b.stack.split("\n");console.error(d[a]," "+c[2].replace(/\s*/,""))}},f=function(a,b,c){return this.module=a,this.submodule=b,this.func=c,function(a){return function(){a.exec.apply(a,arguments)}}(this)};f.prototype.exec=function(){var a=arguments,b=this;h.call(this,this.module,function(d){try{d[b.submodule][b.func].apply(b,a)}catch(e){a.length&&"object"==typeof a[a.length-1]&&"function"==typeof a[a.length-1].onFail&&a[a.length-1].onFail(c.EXEC_ERROR),d&&b.error(c.EXEC_ERROR)}})},b.lightapp.error=f.prototype.error=e;var g={},h=function(a,d){if(!b.lightapp.ak)return this.error(c.AK_UNDEFINED),console.error("错误，'"+a+"' clouda.lightapp(your_ak_here);"),!1;var e=this;if(!a)return!1;if("undefined"!=typeof g[a])return d(g[a]);try{nuwa.pm.bindAk(b.lightapp.ak),nuwa.pm.absorb(a,function(b){b.on("error",function(){e.error(c.RT_GETERROR),d(null)}),b.on("progress",function(){}),b.on("complete",function(){g[a]=nuwa.require(a),d(g[a])})})}catch(f){e.error(c.RT_UNDEFINED),d(null)}return!1},i=function(a,c){var d=b[a];c.call(b.lightapp,d)};b.device={},b.mbaas={},i("device",function(a){for(var b=a.accelerometer={},c=["clearWatch","getCurrentAcceleration","watchAcceleration"],d=0,e=c.length;e>d;d++)try{b[c[d]]=new f("device","accelerometer",c[d])}catch(g){b[c[d]]=this.error}return a}),i("device",function(a){for(var b=a.battery={},c=["start","stop"],d=0,e=c.length;e>d;d++)try{b[c[d]]=new f("device","batteryStatus",c[d])}catch(g){b[c[d]]=this.error}return a}),i("device",function(a){for(var b=a.camera={},c=["getPicture","cleanup"],d=0,e=c.length;e>d;d++)b[c[d]]=new f("device","camera",c[d]);return a}),i("device",function(a){for(var b=a.capture={},c=["captureAudio","captureImage","captureVideo"],d=0,e=c.length;e>d;d++)b[c[d]]=new f("device","capture",c[d]);return a}),i("device",function(a){for(var b=a.contact={},c=["create","find"],d=0,e=c.length;e>d;d++)b[c[d]]=new f("device","contact",c[d]);return a}),i("device",function(a){for(var b=a.geolocation={},c=["clearWatch","getCurrentPosition","watchPosition"],d=0,e=c.length;e>d;d++)b[c[d]]=new f("device","geolocation",c[d]);return a}),i("device",function(a){for(var b=a.globalization={},c=["dateToString","getCurrencyPattern","getDateNames","getDatePattern","getFirstDayOfWeek","getLocaleName","getNumberPattern","getPreferredLanguage","isDayLightSavingsTime","numberToString","stringToDate","stringToNumber"],d=0,e=c.length;e>d;d++)b[c[d]]=new f("device","globalization",c[d]);return a}),i("device",function(a){for(var b=a.network={},c=["getInfo"],d=0,e=c.length;e>d;d++)b[c[d]]=new f("device","network",c[d]);return b.UNKNOWN=0,b.ETHERNET=1,b.WIFI=2,b.CELL_2G=3,b.CELL_3G=4,b.CELL_4G=5,b.CELL=6,b.NONE=7,b.status=b.UNKNOWN,a}),i("device",function(a){var b=a.notification={},c=new f("device","notification","alert"),d=new f("device","notification","confirm"),e=new f("device","notification","prompt"),g=new f("device","notification","beep"),h=new f("device","notification","vibrate");return b.alert=function(a,b){return"object"==typeof b?c(a,b.onSuccess,b.title,b.buttonName,b):c(a)},b.confirm=function(a,b){return"object"==typeof b?d(a,b.onSuccess,b.title,b.buttonLabels,b):d(a)},b.beep=g,b.vibrate=h,b.prompt=function(a,b){return"object"==typeof b?e(a,b.onSuccess,b.title,b.buttonLabels,b.defaultText,b):e(a)},a}),i("device",function(a){for(var b=a.sqlite={},c=["openDatabase"],d=0,e=c.length;e>d;d++)b[c[d]]=new f("device","sqlite",c[d]);return a}),i("mbaas",function(a){return a.share={},a})}}(window);